README-HFHS_pacsDisplay.txt
------------------------------------------------------------------------
      5.1 The Configuration File
------------------------------------------------------------------------

loadLUT uses a configuration file, 'configLL.txt', to designate which
displays are to be calibrated and what LUTs to load.  It will look for
this file either in the same directory as loadLUT.exe or in a specified
directory, as mentioned in the usage instructions above.

For a standard pacsDisplay installation, there are configLL.txt files in
two strategic directories that need to be properly configured relative to
the make and model of each monitor installed on the system:

       ...\LUTs\Current System

       ...\LUTs\Current System\Linear

where ... refers to the LUTs installation path.

Below is the standard layout for the configLL.txt file, configured for a
two-monitor system:

           # First 2 lines reserved for comments.
           #
           /LUTsearch [dir]   - Optional line, invokes model/SN LUT search
           /LDTsearch         - Optional line, invokes dated LUT search
           /noload            - Optional line, checks LUT but does not load
           /noEDID            - Optional line, bypasses EDID checks
           /nolog             - Optional line, prevents writing of log file
           2                  - Number of displays to be calibrated
           1                  - Display number
           "MANF_MODEL"       - Model descriptor (or "*")
           "SN"               - Serial number (or "*")
           "calLUT1.txt"      - Default calibration filename
           2                  . -
           "MANF_MODEL"       .  |   Four lines for
           "SN"               .  |   each of N monitors
           "calLUT2.txt"      . -

  Comments:
  The first two lines are reserved for comments and will not affect how
  loadLUT performs.

  Options:
  Options, if present, are included right after the comment lines and must
  start with a '/' character.  The following options are currently available:

     /LUTsearch [dir] - 
               This option is used when managing a group of systems
               having monitor models that are in the LUT-Library.
               The arguement, dir, is the LUT-Library full path name.
               During installation, a default configLL.txt is created
               in the Current System directory which has the /LUTsearch
               option with the correct pathname based on the installion.

                Note1: The path should be entering using quotes.
                       If not, paths with spaces will not be valid.
                Note2: The directory arguement can be formed with either
                       forward or reverse slash characters.
                Note3: If no arguement is provided, loadLUT will assume
                       the the LUT-Library is in the 'program file'
                       installation directory which was used in early versions.
                       Beginning with package 5A, this is no longer valid
                       and a correct directory should always be entered.

               When this option is set, loadLUT first gets the monitor
               manufacturer (MANF), model (MODEL), and serial number (SN)
               from the EDID that Windows store in the registry.
               If it doesn't find them, it will use the the config file values.
               If the /noEDID option is set, then the model descriptor
               and serial number are also taken from the config file.

               The program then looks in the LUT-Library 
               to find the appropriate LUT folder based on the
               model descriptor, ...\LUT-Library\<MANF_MODEL*>\.
               The "*" denotes a wildcard.  If the  folder name
               has characters beyond <MANF_MODEL>, it will still
               be accepted.

               Several loadLUT utilities can be used to identify the
               model descriptor, MANF_MODEL, for the monitors on a
               particular system. The first row of the monitor table
               created by EDIDprofile has the model descriptor.
               LLconfig will also get the EDID and show the model descriptor.

               The program will first look in the LUTs directory of the
               LUT folder, ...\LUT-Library\<MANF_MODEL*>\LUTs , to see 
               if a LUT is present with a matching serial number.
               These LUTs are generated by LUTgenerate with a file name
               of the form LUT_MANF_MODEL_SN_*. Additional values at the
               end docuement LUTgenerate input parameter values.
               SN can be either the 4 digit VESA EDID number
               or the extended VESA EDID number (see the configLL program).

               If a serial number specific LUT is not found,
               loadLUT will look in the LUT folder directory for a
               generic LUT file, LUT_MANF_MODEL_GENERIC_*.
               If that also fails, it will load the
               default LUT file specified in configLL.txt.
               This default LUT file must be in the Current System directory.

     /LDTsearch [#] - this rarely used option is similar to the
               LUTsearch option.  It uses the year and week of
               manufacture, along with the model name from the
               EDID to find the appropriate LUT file from the 
               ..\Current System\LDT\ directory.  The "#"
               indicates the date tolerance, i.e. - the number
               of weeks before or after the specified date that
               the search will accept.  The default is 3 weeks.

               If the /noEDID option is set, then the search
               fails.

               file format:
                         LDT_<MANF_MODEL>_<year(xxxx)><week(1-52)>_*

               Note: If both LUTsearch and LDTsearch are set,
                     LUTsearch takes priority.  If LUTsearch fails,
                     loadLUT will still run LDTsearch.  If LDTsearch
                     also fails, then loadLUT will use the default LUT file.

     /noload - when this option is set, loadLUT will save the
               current display LUTs in backup files without
               loading new LUTs.

     /noEDID - this option prevents loadLUT from searching the
               registry for EDID information.  This may allow
               loadLUT to avoid errors with some display
               configurations, but also disables loadLUT's
               ability to verify display information.

     /nolog - when this option is set, loadLUT will not attempt
               to generate a log file.  This may be needed if
               loadLUT is run under an account that has limited
               access privelages.

  Number of Displays:
    Following the options is the number of displays to be calibrated.  Each
    display is listed below this line and four lines must be present for
    each display.

  Display Number:
    The reference to display number is for the number that pacsDisplay
    finds in the registry for the monitor using getEDID.
    The Display Number is usually the same that Windows reports
    for each display under Display Properties => Settings.
    However, for systems that have certain remote management software
    installed the numbers can be shifted up for some of monitors in
    a multi-monitor system. If this occurs, used EDIDprofile to document
    the getEDID display number which is in the first row of the table.

  Model Descriptor (or "*"):
    The model descriptor is checked against what is listed in the EDID.
    A mismatch will cause loadLUT to output an error message and will not
    load a LUT.  It will then continue on to the next display.  The Model
    can be replaced with a "*" in order to bypass the check for that line.
    If there are spaces in the model descriptor, it should be enclosed in
    quotes.  This is generally recommended even if there are no spaces.

  Serial number (or "*")
    The serial number is checked against what is listed in the EDID.  A
    mismatch will cause loadLUT to output an error message and will not
    load a LUT.  It will then continue on to the next display.  The Model
    can be replaced with a "*" in order to bypass the check for that line.
    If there are spaces in the serial number, it should be enclosed in
    quotes.  This is generally recommended even if there are no spaces.

    In general, the EDID will contain a 4-digit serial number.  Some EDIDs
    also include an extended serial number longer than 4 digits.  If either
    one matches the serial number given in the config file, then this check
    will be successful.

  Default Calibration Filename:
    The next line is the default calibration filename.  This is the LUT file
    that the progarm will use to adjust the display.  If any of the search
    options are in place, then they will take precedence in selecting a LUT
    file.  Should the search options be unsuccessful, then loadLUT will use
    this filename by default.

Several files are installed in the Current System directory
some of which must be present.

   The Current System folder contains the configLL.txt file
   that should be edited based on user requirements along
   with the linear LUT, linearLUT.txt, used as the default LUT.
   For routine system managment, it is recommended that a LUT folder
   be built in the LUT-Library and the linear LUT left as the default.

   The Linear folder, ...\LUTs\Current System\Linear, contains
   a configLL.txt files for loading linear LUTs and a copy of
   the linear LUT file, linearLUT.txt.

For this distribution, the LUT-library contains collections of
uncalibrated luminance response files, uLR files, along with derived
average response and calibration LUT files for these monitors:
           MANF_MODEL_(3g)
where the number in parentheses indicates the number of uLR files.
The "g" indicates that a generic file also exists.  Additionally,
directories with uLR files but no generic LUT are included for
other monitor models.

For this distribution, the Current System LUT directory has a
default configLL.txt file that asserts the \LUTsearch option with the
model_name and S/N set to "*". If an S/N match or GENERIC match
is not found in the LUT-library, the default LUT is assigned to
that for a linear LUT. To demonstrate that calibrated LUTs are being
loaded on a monitor that does not have a LUT folder in the LUT-Library,
this linear LUT needs to be temporarily replaced with some calibration LUT.

    IMPORTANT - The 'Current System' configLL.txt file must be
                properly configured for the monitors used
                as is illustrated in the examples below.

------------------------------------------------------------------------
      5.2 Sample Config Files
------------------------------------------------------------------------

Example 1:
This configuration is for a single display, identified in Windows as display
"1", with no model name or S/N verification.

           # First 2 lines reserved for comments.
           #
           1
           1
           "*"
           "*"
           "<LUT filename for display #1>"

Example 2:
This configuration extends to display "3".  The EDID information for this
display will be checked for a matching model descriptor.  If the model name
given here is different from what is found in the EDID, an error will occur
and the program will abort.  No check will be made to match a serial number.

           # First 2 lines reserved for comments.
           #
           2
           1
           "*"
           "*"
           "<LUT filename for display #1>"
           3
           "DELL 2007FP"
           "*"
           "<LUT filename for display #3>"
           
Example 3:
This configuration includes the option to search for the LUT files in the
'..\LUTs\LUT-Library' directory.  For display #1, the filename will be
based on the model name and serial number given in the EDID.  For display
#3, the model name "DELL 2007FP" will be checked against that in the EDID,
while the serial number will be whatever is found in the EDID.  These model
names and serial numbers will be used to build the filenames for LUTsearch.
If the search for the specific files and generic files are unsuccessful,
then the listed default LUT files will be used instead.

           # First 2 lines reserved for comments.
           #
           /LUTsearch
           2
           1
           "*"
           "*"
           "<LUT filename for display #1>"
           3
           "DELL 2007FP"
           "*"
           "<LUT filename for display #3>"

Example 4:
This configuration includes a search based on the date of manufacture of
the display.  It will search through the files in '..\Current System\LDT\',
choosing the one that is closest to the date of manufacture, but not going
beyond 52 weeks from that date.

           # First 2 lines reserved for comments.
           #
           /LDTsearch 52
           2
           1
           "*"
           "*"
           "<LUT filename for display #1>"
           3
           "DELL 2007FP"
           "*"
           "<LUT filename for display #3>"

Example 5:
Here we have a 4 display system with LUTs being drawn from the
'..\LUTs\LUT-Library' directory.  However, since the /noEDID option is
being used, LUTsearch will instead build the intended filenames using the
monitor descriptors and serial numbers given below.  Those that have only
"*" for both the model and serial number will automatically fail the file
search and will instead default to the given LUT filename.  Display #3
gives a model name, but no serial number.  LUTsearch will not be able to
build a specific LUT filename for display #3, but it will still search for
a generic file in the <model_name*> directory before going to the default
LUT file.

           # First 2 lines reserved for comments.
           #
           /noEDID
           /LUTsearch
           4
           1
           "*"
           "*"
           "<LUT filename for display #1>"
           2
           "*"
           "*"
           "<LUT filename for display #2>"
           3
           "DELL 2007FP"
           "*"
           "<LUT filename for display #3>"
           4
           "DELL 2007FP"
           "T61164A5ABYU"
           "<LUT filename for display #4>"
